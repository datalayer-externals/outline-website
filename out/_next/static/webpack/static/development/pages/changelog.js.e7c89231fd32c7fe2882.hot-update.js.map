{"version":3,"file":"static/webpack/static/development/pages/changelog.js.e7c89231fd32c7fe2882.hot-update.js","sources":["webpack:///./pages/changelog.tsx"],"sourcesContent":["import fetch from \"isomorphic-fetch\";\nimport { map, groupBy } from \"lodash\";\nimport { format } from \"date-fns\";\nimport SidebarMenu from \"components/SidebarMenu\";\nimport SidebarMenuItem from \"components/SidebarMenuItem\";\nimport Layout from \"components/Layout\";\nimport Markdown from \"components/Markdown\";\n\nexport default function Changelog({ releases }) {\n  const months = groupBy(releases, (release) =>\n    format(new Date(release.created_at), \"MMMM, yyyy\")\n  );\n  const years = groupBy(months, (releases) =>\n    format(new Date(releases[0].created_at), \"yyyy\")\n  );\n\n  const sortedYears = Object.keys(years).reverse();\n\n  return (\n    <Layout\n      title=\"Changelog\"\n      background=\"#F4F7FA\"\n      hero={\n        <>\n          New updates and improvements to Outline.{\" \"}\n          <a href=\"https://twitter.com/outlinewiki\">Follow us on twitter</a> to\n          find out when features are released.\n        </>\n      }\n      sidebar={\n        <>{map(sortedYears, (year) => (\n          <SidebarMenu title={year} key={year}>\n            {years[year].map((releases) => {\n              const release = releases[0];\n              return (\n                <SidebarMenuItem\n                  key={release.id}\n                  href={`#${format(\n                    new Date(release.created_at),\n                    \"yyyy-MMMM\"\n                  )}`}\n                >\n                  {format(new Date(release.created_at), \"MMMM\")}\n                </SidebarMenuItem>\n              );\n            })}\n          </SidebarMenu>\n        ))}</>\n      }\n    >\n      {releases.map((release) => (\n        <article key={release.id}>\n          <a id={format(new Date(release.created_at), \"yyyy-MMMM\")} />\n          <a id={release.name} />\n          <h2>{release.name}</h2>\n          <time dateTime={release.created_at}>\n            {format(new Date(release.created_at), \"MMMM do, yyyy\")}\n          </time>\n          <Markdown source={release.body} />\n        </article>\n      ))}\n      <style jsx>\n        {`\n          article {\n            margin: 0 0 8em;\n          }\n\n          time {\n            display: block;\n            font-family: \"Roboto Mono\", \"Menlo\", monospace;\n            font-size: 0.8em;\n            margin-top: -1.5em;\n            margin-bottom: 2em;\n          }\n        `}\n      </style>\n    </Layout>\n  );\n}\n\nexport async function getStaticProps() {\n  const res = await fetch(\n    \"https://api.github.com/repos/outline/outline/releases\"\n  );\n  const releases = await res.json();\n\n  return {\n    props: {\n      releases,\n    },\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAIA;AAEA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAfA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AA/BA;AAAA;AAAA;AA2DA;;;;A","sourceRoot":""}